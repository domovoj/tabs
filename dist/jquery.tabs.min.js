!function($,wnd){var aC="tab-active",existsN=function(a){return a.length>0&&a instanceof jQuery},methods={init:function(options){var $this=this;if(existsN($this)){var thisL=this.length;$this.each(function(ind){var index=methods._index,ul=$(this),li=ul.children(),data=ul.data(),opt=$.extend({},$.tabs.dP,options,data),tabsDiv=$([]),tabsId=$([]);methods._index+=1,methods._refs[index]=li.find("[href]:first, [data-href]:first"),methods._cookie[index]=opt.cookie?opt.cookie:null,methods._attrOrdata[index]=methods._refs[index].attr("href")?"attr":"data",methods._regRefs[index]=[],methods._refs[index].each(function(){var a=$(this)[methods._attrOrdata[index]]("href");tabsDiv=tabsDiv.add($(a)),tabsId=tabsId.add("[data-id="+a+"]"),methods._regRefs[index].push(a)}),methods._refs[index].removeData("start").off("click."+$.tabs.nS).on("click."+$.tabs.nS,function(e){function _tabsDivT(callback){function _after(){opt.after&&eval(opt.after).call(ul,$this,$thisAO.add("[data-id="+$thisA+"]"),resB),callback&&callback()}function _after2(){var a=window.location.hash;if(!condStart&&($thisAOld||opt.toggle)){var b=a,c=!1;if(methods.hashsArr&&$.map(methods.hashsArr,function(a){-1!==$.inArray("#"+a,methods._regRefs[index])&&(c=!0)}),c||"attr"===methods._attrOrdata[index]){if($.map(methods._regRefs[index],function(a){b=b.replace(new RegExp(a+"($|\b)","ig"),"").replace(new RegExp(a+"#","ig"),"#")}),opt.toggle&&!$thisAO.is(":visible"))return void methods.changeHash(b);b+=$thisA}methods.changeHash(b)}}var showBlock=$thisAO.add($("[data-id="+$thisA+"]"));showBlock=opt.toggle&&$thisAO.is(":visible")?$([]):showBlock;var blocks=tabsDiv.add(tabsId).not(showBlock);if(existsN(blocks)){var i=0;blocks.stop()[opt.effectOff](opt.durationOff,function(){++i===blocks.length&&(!$thisAO.is(":visible")||opt.elchange?showBlock[opt.effectOn](opt.durationOn,function(){_after()}):_after(),showBlock.addClass(aC),_after2())}).removeClass(aC)}else _after(),_after2()}e.preventDefault();var $this=$(this).data("start",!0),condStart=e.start,$thisA=$this[methods._attrOrdata[index]]("href"),$thisOld=li.filter("."+aC).children(),$thisAOld=$thisOld[methods._attrOrdata[index]]("href"),$thisAOld=$thisAOld===$thisA?null:$thisAOld,$thisAO=$($thisA),resB=!0;if($.extend(opt,$this.data()),opt.before&&(resB=eval(opt.before).call(ul,$this,$thisAO.add("[data-id="+$thisA+"]"),condStart)),resB!==!1&&!$this.hasClass("tab-disabled")&&!$this.is(":disabled")){var activeP=$this.closest(li);if(li.not(activeP).removeClass(aC),activeP.hasClass(aC)&&opt.toggle?activeP.removeClass(aC):activeP.addClass(aC),opt.elchange)$(opt.elchange).removeClass(methods._regRefs[index].join(" ").replace(/#/g,"")).addClass($thisA.replace("#","")),opt.toggle&&!$this.parent().hasClass(aC)&&$(opt.elchange).removeClass($thisA.replace("#","")),_tabsDivT();else if(opt.source&&!$this.hasClass("tab-visited")){methods._refs[index].addClass("tab-disabled").attr("disabled","disabled"),$this.addClass("tab-visited");var options={el:$this,div:$thisAO,start:condStart};$thisAOld&&(options.elOld=$thisOld,options.divOld=$($thisAOld)),ul.trigger("beforeload."+$.tabs.nS,options);var optAjax={type:"post",url:opt.source,success:function(a){_tabsDivT(function(){methods._refs[index].removeClass("tab-disabled").removeAttr("disabled")}),opt.selector?$thisAO.find(opt.selector).html(a):$thisAO.html(a),ul.trigger("afterload."+$.tabs.nS,options)}};opt.data&&(optAjax.data=opt.data),$.ajax(optAjax)}else _tabsDivT();methods._cookie[index]&&(methods.setCookie(methods._cookie[index],$thisA,0,"/"),opt.toggle&&!$this.parent().hasClass(aC)&&methods.setCookie(methods._cookie[index],"",0,"/")),e.scroll&&$("html, body").scrollTop($this.offset().top)}}),thisL-1===ind&&methods._start()}),wnd.off("hashchange."+$.tabs.nS).on("hashchange."+$.tabs.nS,function(a){var b=methods.curHash,c=methods.curTop;if(methods.curHash=location.hash,methods.curTop=wnd.scrollTop(),a.preventDefault(),$.map(location.hash.split("#"),function(a,b){if(""!==a){var c=$('[data-href="#'+a+'"], [href="#'+a+'"]');existsN(c.closest("[data-toggle]"))||c.parent().hasClass(aC)||methods.show.call(c)}}),b){var d=b.split("#"),e=methods.curHash.split("#");d.length!==e.length&&0!==d.length&&0!==e.length&&($.map([].concat(d),function(a,b){$.map([].concat(e),function(b,c){a===b&&(e.splice(c,1),d.splice(c,1))})}),$.map(methods._regRefs,function(a,b){-1===$.inArray("#"+d[0],a)||existsN(methods._refs[b].first().closest("[data-toggle]"))||methods.show.call(methods._refs[b].first())}))}c&&c!==methods.curTop&&setTimeout(function(){$("html, body").scrollTop(c)},10)}).off("scroll."+$.tabs.nS).on("scroll."+$.tabs.nS,function(a){methods.curTop=wnd.scrollTop()})}return $this},show:function(){this.trigger("click."+$.tabs.nS)},setCookie:function(a,b,c,d,e,f){var g=new Date;g.setTime(g.getTime()),c&&(c=1e3*c*60*60*24);var h=new Date(g.getTime()+c);document.cookie=a+"="+encodeURIComponent(b)+(c?";expires="+h.toGMTString():"")+(d?";path="+d:"")+(e?";domain="+e:"")+(f?";secure":"")},getCookie:function(a){var b=document.cookie,c=b.indexOf(" "+a+"=");if(-1===c&&(c=b.indexOf(a+"=")),-1===c)b=null;else{c=b.indexOf("=",c)+1;var d=b.indexOf(";",c);-1===d&&(d=b.length),b=unescape(b.substring(c,d))}return b},changeHash:function(a){methods.top=wnd.scrollTop(),a&&(window.location.hash=a),$("html, body").scrollTop(methods.top)},_index:0,_refs:[],_regRefs:[],_attrOrdata:[],_cookie:[],_start:function(){var a=[];$.map(methods._refs,function(b,c){var d=existsN(b.parent("."+aC))?b.parent("."+aC).children(b):methods._cookie[c]&&methods.getCookie(methods._cookie[c])?$("["+("attr"===methods._attrOrdata[c]?"href":"data-href")+"="+methods.getCookie(methods._cookie[c])+"]"):b.first();a.push(d.data("nonStart")?null:d[d.attr("href")?"attr":"data"]("href"))});var b=[].concat(a);if(location.hash){var c=location.hash.split("#");$.map(c,function(c,d){$.map(b,function(b,d){-1!==$.inArray("#"+c,methods._regRefs[d])&&a.splice(d,1,"#"+c)})})}c&&($.map(c,function(a,b){""===a&&c.splice(b,1)}),methods.hashsArr=c),methods.hashs=a,$.map(a,function(a,b){var c=$("["+("attr"===methods._attrOrdata[b]?"href":"data-href")+"="+a+"]");c.data("start")||c.trigger({type:"click."+$.tabs.nS,start:!0})})}};$.fn.tabs=function(a){return methods[a]?methods[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void $.error("Method "+a+" does not exist on $.tabs"):methods.init.apply(this,arguments)},$.tabsInit=function(){this.nS="tabs",this.method=function(a){return/_/.test(a)?void 0:methods[a]},this.methods=function(){var a={};for(var b in methods)/_/.test(b)||(a[b]=methods[b]);return a},this.dP={effectOn:"show",effectOff:"hide",durationOn:0,durationOff:0,cookie:null,toggle:null,elchange:null,source:null,data:null,selector:null,before:$.noop,after:$.noop},this.setParameters=function(a){$.extend(this.dP,a)}},$.tabs=new $.tabsInit,$(document).ready(function(){$('[data-rel="tabs"]').tabs()})}(jQuery,jQuery(window));